#N canvas 572 83 564 595 10;
#X obj 175 217 else/out~;
#X obj 185 155 noise~;
#X obj 242 140 nbx 5 14 100 10000 1 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 310 164 nbx 5 14 0.1 100 1 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X msg 108 150 bypass \$1;
#X obj 108 127 tgl 15 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#N canvas 411 38 926 617 filter 0;
#X obj 564 124 noise~;
#X obj 564 199 else/out~;
#X text 53 13 This filter has zeroes fixes at +1 and -1 on the z-plane \, which means both 0Hz and Nyquist are always filtered out.;
#X text 509 31 Change the parameters and check the filter response below. The graph considers a sample rate of 44.1Khz.;
#X text 56 118 a0 \, a1 \, a2 \, b1 and b2 are calculated as a function of center frequency 'f' in hz and 'q' as follows \;;
#X text 80 150 omega = f * PI/nyquist \; alphaQ = sin(omega) / (2*q) \; b0 = alphaQ + 1 \; a0 = (1+cos(omega)) / (2*b0) \; a1 = -(1+cos(omega)) / b0 \; a2 = (1+cos(omega)) / (2*b0) \; b1 = 2*cos(omega) / b0 \; b2 = (alphaQ - 1) / b0 \;;
#X text 732 176 Note: q's and bw's minimum value is 1e-06!, f 21;
#X obj 564 163 else/highpass~ 1000 0.1;
#X obj 702 114 hsl 128 15 0.001 100 1 0 empty \$0-Q-set empty -2 -8 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 634 88 hsl 128 15 20 20000 1 0 empty \$0-Hz-set empty -2 -8 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 699 138 nbx 5 14 0.001 100 0 0 \$0-Q empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 631 115 nbx 5 14 20 20000 0 0 \$0-Hz empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X text 651 88 center frequency;
#X text 723 114 resonance (Q);
#X text 54 46 The equation is from the "Cookbook formulae for audio EQ biquad filter coefficients" by Robert Bristow-Johnsonc [1] \, and it is: y[n] = a0 * x[n] + a1 * x[n-2] + a2 * x[n-2] + b1 * y[n-1] + b2 * y[n-2];
#N canvas 169 31 398 275 coeff 0;
#X obj 103 87 r \$0-Hz;
#X obj 173 87 r \$0-Q;
#X obj 87 54 loadbang;
#X obj 87 156 outlet;
#X obj 87 127 else/bicoeff2 highpass 1000 0.1;
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X restore 12 289 pd coeff;
#X obj 12 316 else/biplot;
#X text 102 280 [1] found in https://webaudio.github.io/Audio-EQ-Cookbook/audio-eq-cookbook.html, f 80;
#X connect 0 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 7 2;
#X connect 11 0 7 1;
#X connect 15 0 16 0;
#X restore 429 239 pd filter formula \; and response;
#X msg 175 122 clear;
#X text 369 163 resonance (Q by default);
#X text 300 139 resonant/center frequency;
#X text 61 86 [highpass~] is a 2nd order highpass resonant filter.;
#X obj 175 186 else/highpass~ 1000 0.1;
#X obj 23 40 cnv 4 4 4 empty empty Highpass 0 28 2 18 #e0e0e0 #000000 0;
#X obj 162 40 cnv 4 4 4 empty empty filter 0 28 2 18 #e0e0e0 #000000 0;
#X obj 305 4 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#X obj 344 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 457 11 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 477 11 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 514 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 463 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 501 26 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 252 42 1 0 0;
#X restore 304 3 graph;
#X obj 97 40 cnv 4 4 4 empty empty resonant 0 28 2 18 #e0e0e0 #000000 0;
#X obj 2 3 cnv 15 301 42 empty empty highpass~ 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 3 graph;
#X obj 4 279 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 435 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 516 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 563 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 109 444 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 109 287 cnv 17 3 90 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 181 287 signal;
#X text 181 444 signal;
#X text 230 444 - filtered signal;
#X text 230 287 - signal to be filtered;
#X obj 109 388 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 109 411 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 145 388 float/signal;
#X text 145 411 float/signal;
#X text 187 303 clear;
#X text 133 318 bypass <float>;
#X text 230 318 - 1 (bypasses input signal) or 0 (doesn't bypass);
#X text 229 387 - central frequency in Hertz;
#X text 136 523 1) float - central frequency in Hertz (default 0);
#X text 230 303 - clears filter's memory if you blow it up;
#X text 205 347 bw;
#X text 230 347 - sets resonance parameter to bandwidth in octaves;
#X text 211 333 q;
#X obj 3 470 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X text 148 477 -bw;
#X text 178 477 - sets resonance parameter to bandwidth in octaves, f 51;
#X text 230 333 - sets resonance parameter to Q (default);
#X text 230 411 - filter resonance (Q or bandwidth);
#X text 199 361 t60;
#X text 230 361 - sets resonance parameter to 't60';
#X text 142 495 -t60;
#X text 178 495 - sets resonance parameter to 't60', f 51;
#X text 136 541 2) float - resonance in 'Q'm \, 'bw' or 't60' (default 1 \, Q);
#N canvas 604 125 676 412 resonance 0;
#X text 27 95 Alternatively \, you can switch from 'q' to 'bw' with the message methods., f 56;
#X text 27 23 By default \, the resonance parameter is the filter 'q' \, but you can also set it to 'bw' or 't60'. The 'bw' means resonance as bandwidth in octaves and you can set it with the -bw flag or 'bw' message \, whereas 't60' means decay time in 't60' (time it takes for the signal to resonate and decay 60db in ms)., f 56;
#X msg 463 156 q;
#X text 491 157 resonance as 'q' (default);
#X msg 452 133 t60;
#X text 480 133 decay time in ms;
#X obj 437 101 else/imp~ 1;
#X obj 87 194 noise~;
#X text 27 131 Here we have the resonance as bandwidth in octaves. The value is 0.25 \, so a quarter of an octave \, which is a major third width., f 56;
#X obj 437 190 else/highpass~ -t60 500 500;
#X obj 86 272 out~;
#X obj 87 232 else/highpass~ -bw 500 0.25;
#X obj 437 226 out~;
#X connect 2 0 9 0;
#X connect 4 0 9 0;
#X connect 6 0 9 0;
#X connect 7 0 11 0;
#X connect 9 0 12 0;
#X connect 11 0 10 0;
#X restore 464 214 pd resonance;
#X connect 1 0 11 0;
#X connect 2 0 11 1;
#X connect 3 0 11 2;
#X connect 4 0 11 0;
#X connect 5 0 4 0;
#X connect 7 0 11 0;
#X connect 11 0 0 0;
