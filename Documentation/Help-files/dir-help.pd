#N canvas 569 51 562 780 10;
#X obj 23 40 cnv 4 4 4 empty empty Access 0 28 2 18 #e0e0e0 #000000 0;
#X obj 80 40 cnv 4 4 4 empty empty file 0 28 2 18 #e0e0e0 #000000 0;
#X obj 2 3 cnv 15 301 42 empty empty dir 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 3 graph;
#X obj 305 4 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 0 0;
#X restore 304 3 pd;
#X obj 344 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 457 11 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 477 11 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 514 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 463 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 501 26 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 4 385 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 579 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 690 cnv 3 550 3 empty empty arguments 8 12 0 13 #dcdcdc #000000 0;
#X obj 4 750 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 154 249 bng 17 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 128 275 else/dir;
#X text 151 584 symbol -;
#X obj 109 39 cnv 4 4 4 empty empty directory 0 28 2 18 #e0e0e0 #000000 0;
#X msg 114 166 dump;
#X msg 128 186 dir;
#X text 109 390 open <symbol> -;
#X text 169 433 dir -;
#X text 213 433 outputs the current directory in the right outlet, f 54;
#X text 163 447 dump -;
#X obj 82 392 cnv 17 3 181 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 82 585 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 163 490 bang -;
#X obj 82 605 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 213 584 the files from the directory, f 54;
#X text 157 419 reset -;
#X text 213 419 resets to patch's directory, f 54;
#X obj 143 325 else/display 50;
#X msg 83 124 open ..;
#X msg 98 145 reset;
#X text 181 461 n -;
#X text 115 504 seek <float> -;
#X text 163 518 next -;
#X text 213 504 seeks and output the file corresponding to that number;
#X text 213 518 increments seek value and outputs file, f 54;
#N canvas 622 38 592 706 open 0;
#X text 66 72 For example \, "open samples" looks for a subdirectory named 'samples' relative to the current directory. More than one level of subdirectories (like "open samples/wav") can be given., f 77;
#X obj 48 352 else/dir;
#X msg 48 266 open \$1 \, dir;
#X symbolatom 48 241 40 0 0 0 - - - 0;
#X obj 93 377 else/display 2;
#X text 123 381 "1" if successfully opened \, "0" otherwise;
#X text 66 113 To open the parent directory you can use "open .." \, and "open ." will just reopen the same directory. You can also use "./" or "../" \, and using "../../" will open the grandparent folder and so on. If you ask for "../sounds" \, then it looks for a subfolder named "sounds" in the parent directory. This is how Pd handles relative directories in general anyway \, so nothing really new here..., f 77;
#X text 72 406 (If a directory can't be opened \, the previously opened remains), f 63;
#X obj 151 593 else/dir;
#X obj 166 645 else/display;
#X text 66 20 The 'open' message expects a symbol defining a directory. If the symbol starts with "/" (non windows machines) or "c:" (for instance \, in windows machines) then it means the symbol specifies an absolute path. Otherwise \, [dir] will look for directories relative to the current directory., f 77;
#X msg 93 325 reset \, dir;
#X text 165 325 resets to the default directory;
#X text 66 187 When using the open message \, the rightmost outlet sends an open flag ("1" if the directory has been successfully opened \, and 0 otherwise)., f 77;
#X text 56 488 Opening a directory also loads its contents so you can query for files. If you change the contents of your directory \, you need to use the 'reopen' message to reload the direcory's contents., f 79;
#X obj 196 616 else/display 2;
#X obj 63 438 else/display;
#X text 189 559 Open without a symbol opens a dialog for you to choose a directory., f 37;
#X msg 151 564 open;
#X msg 73 297 open ~/.. \, dir;
#X connect 1 1 16 0;
#X connect 1 3 4 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 8 1 9 0;
#X connect 8 3 15 0;
#X connect 11 0 1 0;
#X connect 18 0 8 0;
#X connect 19 0 1 0;
#X restore 475 231 pd open;
#X text 139 695 1) float -;
#X text 133 731 1) symbol -;
#X text 213 695 (optional) relative directory level \, 0 is current patch's directory \, 1 is parent's patch's \, 2 parent's parent's and so on (default 0), f 54;
#X text 213 731 directory to open (default: relative directory level), f 54;
#X obj 82 645 cnv 17 3 17 empty empty 3 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 157 646 float -;
#X text 213 646 "1" if opened a new directory \, "0" if it couldn't open;
#X text 115 532 ext <symbol> -;
#X text 213 532 sets extension, f 54;
#X obj 4 666 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X text 115 672 -ext <symbol>:;
#X text 213 672 - sets file extension type, f 54;
#N canvas 585 130 618 558 arguments 0;
#X obj 111 198 else/display;
#X msg 92 146 dir;
#X text 90 26 If [dir] is used inside an abstraction \, the first optional argument sets the abstraction's depth level and can be used to query the parent patch's directory. for instance \, "0" (the default) is the current patch level \, but "1" sets the default directory to the parent's patch., f 70;
#X msg 139 369 dir;
#X obj 92 173 else/dir 1;
#X obj 160 471 else/display;
#X text 253 413 directory set by the first argument, f 37;
#X msg 158 400 reset \, dir;
#X obj 139 442 else/dir ..;
#X msg 79 400 open ..;
#X text 215 441 <-- parent folder directory relative to patch's directory;
#X text 229 399 <-- a reset message resets to the default;
#X text 90 78 A depth level outside the possible range is ignored. For instance \, in this example we ask for the parent's directory \, but this patch is not an abstraction \, so it loads the patch's directory instead., f 70;
#X text 86 249 The second symbol argument (which can also be the first \, since the first float argument is optional) specifies a directory to open. The directory can be an absolute path \, otherwise it's a path relative to the default directory (the current patch's directory \, depending on the level argument). For instance \, if the default current patch's folder is loaded \, a 'x' symbol searches for a 'x' subfolder in it. You can also use '..' to specify a parent patch (more about this syntax in the [pd open] subpatch). Note that '~' expands to the home directory., f 75;
#X connect 1 0 4 0;
#X connect 3 0 8 0;
#X connect 4 1 0 0;
#X connect 7 0 8 0;
#X connect 8 1 5 0;
#X connect 9 0 8 0;
#X restore 446 210 pd arguments;
#X text 213 404 reloads contents of the last opened directory, f 54;
#X obj 158 297 else/display 4;
#X obj 82 625 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 157 626 float -;
#X text 151 605 symbol -;
#X text 213 605 the current directory, f 54;
#X text 213 626 'n' number of found files, f 54;
#X obj 128 354 print Files;
#X msg 138 206 n, f 2;
#X msg 148 227 n \, dir \, dump;
#X obj 202 271 else/display 2;
#X text 151 404 reopen -;
#X text 213 447 dump files from directory in the (second outlet), f 54;
#X text 213 461 output number of found files in the (third outlet), f 54;
#X text 213 490 outputs 'n' \, 'directory' and dumps files, f 54;
#X text 213 390 open a directory and load contents, f 54;
#X text 104 102 <-- "~" expands to the home directory;
#X text 134 123 <-- opens parent directory;
#X text 138 144 <-- resets to patch's directory;
#X text 147 165 <-- dump all files from the directory (left outlet);
#X text 155 185 <-- sends directory path (second outlet);
#X text 156 205 <-- sends number of files (third outlet);
#X text 233 226 <-- same as "bang";
#X text 174 249 <-- same as "n \, dir \, dump";
#X text 227 274 <-- open flag;
#X text 198 300 <-- 'n' number of files.;
#X text 49 328 'directory' -->;
#X text 209 61 [dir] accesses files from directories. it's an abstraction based on [file] and [else/store]., f 46;
#X text 163 546 show -;
#X text 163 560 hide -;
#X text 213 546 shows text window with loaded files/folders, f 54;
#X text 213 560 hides text window, f 54;
#X msg 60 102 open ~;
#X text 37 264 click to open directory --->, f 14;
#N canvas 746 206 582 517 seek 0;
#X msg 337 214 seek \$1;
#X obj 337 187 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 472 287 else/display;
#X obj 402 324 else/display;
#X msg 297 214 n;
#X msg 402 214 next;
#X msg 107 252 seek \$1;
#X obj 91 314 else/display;
#X obj 107 225 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X obj 107 149 bng 18 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X msg 68 251 next;
#X obj 91 406 else/display;
#X obj 194 176 nbx 4 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X msg 91 379 \$2/\$1;
#X obj 107 199 else/rand.i 1 1;
#X obj 402 258 else/dir -ext .wav;
#X obj 91 350 pack s s;
#X obj 185 254 else/initmess n \, dir;
#X text 101 452 Note that the files are sorted with case sensitivity \, in the same way as in the shell/terminal. This means upper case letters are sorted before lower case letters., f 66;
#X text 243 174 n;
#X text 80 8 The 'n' message outputs the number of found files in the opened directory in the 3rd outlet. The seek message can search for a file according to a number. If the seek number is greater than the number of files \, then the search is wrapped according to the number of files. The seek number is indexed from '1' and clipped to '1' if < 1!, f 74;
#X text 128 149 <-- random file from the "else" library folder;
#X obj 107 284 else/dir, f 15;
#X msg 18 251 random;
#X msg 447 214 random;
#X text 80 69 The 'next' message increments the seek value and will also wrap according to the number of files. The 'random' message selects a random file from the given possibilities. Note you cannot have a random 'seed' in this case \, but you can use a more sophisticated method for that with [rand.i] as in the example below., f 74;
#X connect 0 0 15 0;
#X connect 1 0 0 0;
#X connect 4 0 15 0;
#X connect 5 0 15 0;
#X connect 6 0 22 0;
#X connect 7 0 16 0;
#X connect 8 0 6 0;
#X connect 9 0 14 0;
#X connect 10 0 22 0;
#X connect 12 0 14 2;
#X connect 13 0 11 0;
#X connect 14 0 8 0;
#X connect 15 0 3 0;
#X connect 15 2 2 0;
#X connect 16 0 13 0;
#X connect 17 0 22 0;
#X connect 22 0 7 0;
#X connect 22 1 16 1;
#X connect 22 2 12 0;
#X connect 23 0 22 0;
#X connect 24 0 15 0;
#X restore 475 286 pd seek;
#N canvas 893 224 391 445 extension 0;
#X obj 100 328 print;
#X msg 137 194 ext .aif;
#X msg 155 219 ext .wav;
#X msg 100 106 ext;
#X text 66 362 Changing the extension reopens and reloads the directory's contents. Therefore \, the contents get updated if they've changed and you don't need a 'reopen' message for that., f 42;
#X msg 59 138 dump;
#X text 132 103 <-- sets to all contents \, files and folders (default), f 27;
#X msg 112 137 ext .*;
#X text 158 137 all files extensions \, no folders.;
#X msg 124 168 ext folders;
#X obj 100 299 else/dir -ext .wav;
#X text 201 168 just folders;
#X text 200 193 .aif files only;
#X text 214 219 .wav files only;
#X msg 165 249 show;
#X msg 178 273 hide;
#X text 53 14 You can ask [dir] to access only files of a certain extension \, all files \, all files and folder or only folders. This can be set via a flag or the 'ext' message. By default \, [dir] accesses all files and folders., f 41;
#X text 220 249 show and hide loaded files and or folders, f 14;
#X connect 1 0 10 0;
#X connect 2 0 10 0;
#X connect 3 0 10 0;
#X connect 5 0 10 0;
#X connect 7 0 10 0;
#X connect 9 0 10 0;
#X connect 10 0 0 0;
#X connect 14 0 10 0;
#X connect 15 0 10 0;
#X restore 439 253 pd extension \; show/hide;
#X text 151 476 random -;
#X text 213 476 get a random output from the directory, f 54;
#X connect 16 0 17 0;
#X connect 17 0 62 0;
#X connect 17 1 33 0;
#X connect 17 2 56 0;
#X connect 17 3 65 0;
#X connect 20 0 17 0;
#X connect 21 0 17 0;
#X connect 34 0 17 0;
#X connect 35 0 17 0;
#X connect 63 0 17 0;
#X connect 64 0 17 0;
#X connect 87 0 17 0;
