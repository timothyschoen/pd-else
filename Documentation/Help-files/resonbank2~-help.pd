#N canvas 587 54 564 750 10;
#X obj 3 387 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 3 554 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 2 5 cnv 15 301 42 empty empty resonbank2~ 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 5 graph;
#X obj 23 42 cnv 4 4 4 empty empty Bank\ of\ resonators 0 28 2 18 #e0e0e0 #000000 0;
#X obj 215 324 else/out~;
#X text 142 426 decay <list>;
#X text 154 441 amp <list>;
#X text 148 455 ramp <list>;
#X text 226 455 - list of ramp time for all filters in the bank;
#X text 49 269 see also:;
#X obj 5 715 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 5 618 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X text 130 470 rampall float>;
#X text 225 470 - sets ramp time for all filters in the bank;
#X obj 103 394 cnv 17 3 105 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 102 640 -decay <list>: sets list of decay time for the resonators, f 69;
#X text 114 654 -amp <list>: sets list of amplitudes for the resonators, f 67;
#X text 108 668 -ramp <list>: sets list of ramp time for the resonators, f 68;
#X text 84 682 -rampall <float>: sets a ramp time for all resonators, f 72;
#X text 226 441 - list of amplitudes for the filters;
#X text 226 426 - list of decay times for the filters;
#N canvas 719 120 614 366 multichannel 0;
#X obj 69 263 else/out~;
#X obj 69 222 else/xselect.mc~ 200 1;
#X floatatom 94 190 4 0 0 0 - - - 0;
#X msg 132 64 mc \$1;
#X obj 132 36 tgl 18 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0 1;
#X obj 69 50 sig~ 300;
#X text 359 36 The "-mc" flag or message sets to multichannel output \, where each resonator in the bank is in a different channel., f 30;
#X obj 196 65 else/dust~ 25;
#X obj 94 167 + 1;
#X obj 94 142 hradio 16 1 0 4 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X obj 69 96 else/resonbank2~ -mc -partial 1 3.3 6.7 8.1 -decay 900 800 700 900 -amp 0.9 0.3 0.2 0.2, f 43;
#X obj 324 263 else/out~;
#X obj 324 222 else/xselect.mc~ 200 1;
#X floatatom 349 190 4 0 0 0 - - - 0;
#X obj 349 167 + 1;
#X obj 349 142 hradio 16 1 0 4 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 10 0;
#X connect 4 0 3 0;
#X connect 5 0 10 0;
#X connect 7 0 10 1;
#X connect 8 0 2 0;
#X connect 9 0 8 0;
#X connect 10 0 1 0;
#X connect 10 1 12 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X restore 446 344 pd multichannel;
#X text 162 696 -mc: sets to multichannel output, f 59;
#X text 160 485 mc float>;
#X text 225 485 - non zero sets to multichannel output;
#X obj 48 331 else/oscbank~;
#X text 142 395 float/signal;
#X text 130 410 partial <list>;
#X text 227 395 - frequency multiplier (or 'fundamental');
#X text 226 410 - list of partials for the filters' frequencies;
#X obj 103 531 cnv 17 3 17 empty empty 2 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 103 507 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 142 534 float/signal;
#X text 226 534 - time multiplier;
#X text 178 508 signal;
#X text 226 508 - excitation signal;
#X text 90 625 -partial <list>: sets list of partials for the resonators's frequencies, f 71;
#N canvas 825 256 437 504 example 0;
#X obj 86 398 else/out~;
#X obj 123 157 keyboard 13 50 2 3 0 0 empty empty;
#X obj 123 249 stripnote, f 10;
#X obj 86 304 mtof;
#X obj 180 284 / 127;
#X obj 275 294 /~ 50;
#X listbox 123 217 8 0 0 0 - - - 0;
#X obj 275 397 else/out~;
#X obj 86 343 else/resonbank2~ -partial 1 2 2.803 3.871 -decay 1000 205 1000 196 -amp 1 0.044 0.891 0.0891, f 32;
#X obj 180 306 else/impseq~;
#X text 22 40 Here we have an input from [keyboard]. We use the partial as a ratio list and the leftmost input as the fundamental frequency. The velocy controls the impulse value \, but besides the amplitude \, we use the velocity to control how much it resonates with the decay multiplier \, so not only you have a louder sound when the velocity is high \, but you also make the sound sustain for longer., f 65;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 2 1 5 0;
#X connect 3 0 8 0;
#X connect 4 0 9 0;
#X connect 5 0 8 2;
#X connect 6 0 2 0;
#X connect 8 0 0 0;
#X connect 8 1 7 0;
#X connect 9 0 8 1;
#X restore 476 321 pd example;
#X obj 309 238 else/imp~ 1;
#X floatatom 404 240 4 0 0 0 - - - 0;
#X msg 374 206 0.5;
#X msg 404 206 1;
#X msg 434 207 2;
#X obj 215 239 sig~ 200;
#X text 442 236 decay multiplier, f 10;
#X obj 48 352 else/pluck~;
#X obj 305 6 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#X obj 344 13 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 457 13 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 477 13 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 514 13 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 463 28 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 501 28 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 252 42 1 0 0;
#X restore 304 5 graph;
#X text 37 205 There are two ways to deal with the frequency multiplier \, the main one is to make it the fundamental as in here:, f 45;
#N canvas 868 230 452 536 +details 0;
#X obj 89 188 loadbang;
#X floatatom 130 318 5 0 0 0 - - - 0;
#X msg 130 339 rampall \$1;
#X text 277 394 <- ramp time.;
#X obj 177 367 else/dust~ 2;
#X text 170 175 click on the messages below to alter between parameters., f 28;
#X msg 89 211 partial 100 250 300 370 420 510 590 650 \, decay 2000 900 1500 900 2000 800 1500 900 \, amp 0.9 1 0.9 1 0.8 0.9 0.7 1, f 42;
#X msg 113 266 partial 140 290 310 330 490 580 690 750 \, decay 1000 800 2500 700 500 1200 1700 900 \, amp 1 1 1 1 0.9 0.8 0.9 1, f 42;
#X text 169 317 <- change ramp time;
#X text 60 17 Another way to deal with the partial list is to make it a frequency list in hertz and then treat the left input as a ratio mulitiplier. By default \, this multiplier is '1' \, by the way. The decay time multiplier \, by default \, is also 1 and can be used in the same both ways (so the decay list can be either a ratio list or a list of dureations)., f 57;
#X text 60 103 The lists can be updated via the leftmost inlet and there is a ramp time in ms to transition between the changes of partial \, decay and amplitude lists. By default \, this ramp is set to 10 ms., f 57;
#X obj 89 393 else/resonbank2~ -rampall 2000;
#X obj 89 429 else/out~;
#X obj 266 426 else/out~;
#X text 80 492 cosine / real part;
#X text 252 492 sine / imaginary part;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 4 0 11 1;
#X connect 6 0 11 0;
#X connect 7 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X restore 470 297 pd +details;
#X text 36 86 [resonbank2~] is a bank of resonators made of [resonator2~] objects. The design and structure here is different than [resonator2~] in order to make it better suited for sound synthesis. It has the same design as [resonbank~] and has a list of partials for each resonator and a frequency multiplier in the left inlet \, kinda like [oscbank~]. The mid inlet the trigger (or excitation) signal (kinda like [pluck~]) - this must be an impulse since noise sources and noise bursts generate very loud outputs! The rightmost inlet is a time multiplier for the decay times. The number of filters is set via the parameter list size (such as the partial list). There's also support for multichannel output., f 80;
#X obj 215 270 else/resonbank2~ -partial 1 2.1 2.9 4.1 -decay 1000 750 1000 500 -amp 1 0.4 0.9 0.3, f 32;
#X obj 48 289 else/resonator2~;
#X obj 48 310 else/resonbank~;
#X obj 104 564 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 104 590 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 160 564 signal(s);
#X text 160 591 signal(s);
#X text 226 564 - real part of the resonator bank;
#X text 226 591 - imaginary part of resonator bank;
#X connect 39 0 58 1;
#X connect 40 0 58 2;
#X connect 41 0 40 0;
#X connect 42 0 40 0;
#X connect 43 0 40 0;
#X connect 44 0 58 0;
#X connect 58 0 5 0;
#X connect 58 1 5 1;
