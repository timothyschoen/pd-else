#N canvas 510 38 561 630 10;
#X obj 300 114 tgl 17 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 300 137 metro 500;
#X obj 300 159 bng 18 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 256 217 else/out~;
#X obj 306 4 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#X obj 345 11 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 458 11 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 478 11 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 515 11 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 464 26 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 502 26 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 252 42 1 0 0;
#X restore 305 3 graph;
#X obj 69 40 cnv 4 4 4 empty empty granulator 0 28 2 18 #e0e0e0 #000000 0;
#X obj 22 40 cnv 4 4 4 empty empty Live 0 28 2 18 #e0e0e0 #000000 0;
#X obj 406 165 nbx 3 14 1 32 0 0 empty empty empty 0 -8 0 12 #dcdcdc #000000 #000000 0 256;
#N canvas 502 41 762 538 example 0;
#X obj 119 244 tgl 17 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 119 293 bng 18 250 50 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000;
#X obj 119 270 metro;
#X floatatom 146 247 5 0 0 0 - - - 0;
#X text 207 193 Here's some presets for you to have fun with, f 23;
#N canvas 444 90 749 469 presets 0;
#X obj 69 409 outlet;
#X text 144 32 Here we have different messages with all the setable parameters. The pan range is from -1 (left) to 1 (right) and the position in the delay line is set proprtionally (0 is the beginning of the delay line and 1 is the end of the delay line). Note that the length end of the delay line can only be set at creation time with the '-length <float>' flag. By default \, the length is 5000 ms as in this example. Therefore "0" means no delay and "1" means 5000 ms delay., f 70;
#X text 144 116 The 'rev' message sets the probability in percentage that the grain will be played backwards \, so \, for 0 \, we have all grains played forward. For 50 \, we have a 50/50 chance \, and for 100 \, all grains are reversed., f 70;
#X obj 63 173 loadbang;
#X msg 63 197 n 256 \, dur 2000 \, transp -1200 1200 \, pan -1 1 \, amp 0.05 1 \, size 30 60 \, pos 0 1 \, rev 50, f 86;
#X msg 80 222 n 128 \, dur 1000 \, transp -600 600 \, pan -0.8 0.8 \, amp 0.1 1 \, size 40 60 \, pos 0 1 \, rev 100, f 89;
#X msg 95 247 n 10 \, dur 1000 \, transp -2400 -1200 \, pan -0.8 0.8 \, amp 0.1 1 \, size 150 250 \, pos 0.25 0.5 \, rev 50, f 96;
#X msg 106 271 n 10 \, dur 500 \, transp 0 1200 \, pan -0.8 0.8 \, amp 0.1 1 \, size 20 50 \, pos 0.5 1 \, rev 50, f 84;
#X msg 115 295 n 10 \, dur 1000 \, transp -2400 -1200 \, pan -0.8 0.8 \, amp 0.1 1 \, size 150 400 \, pos 0.5 1 \, rev 0, f 91;
#X msg 124 319 n 3 \, dur 1000 \, transp 0 1200 \, pan -0.8 0.8 \, amp 0.1 1 \, size 1000 3000 \, pos 0 1 \, rev 50, f 87;
#X msg 130 344 n 3 \, dur 1000 \, transp -1200 0 \, pan -0.8 0.8 \, amp 0.1 1 \, size 2000 4000 \, pos 0 1 \, rev 100, f 90;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X restore 108 198 pd presets;
#X obj 100 442 else/out~;
#X obj 146 225 route dur;
#X text 48 22 Try some of the presets and also try dfferent parameters from the settings here \, where we can change to synchronous mode and also the density (number of grains).;
#X text 48 63 By default \, we have an asynchronous mode \, and that means that the interval between grains are random. On the other hand \, synchronous mode spaces the grains equally within a cloud event. This is more noticeable if you have less density. You can set the object to sync mode at creation with the -sync flag., f 58;
#X obj 190 377 nbx 3 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #dcdcdc #000000 #000000 0 256;
#X text 232 373 density (number of grains), f 15;
#X obj 224 335 r \$0-set-env;
#X obj 505 230 else/function 200 100 empty empty 0 1 220 220 220 50 50 50 0 0 0 0 0 0.05 1 0.95 0;
#X obj 505 346 else/display;
#X obj 505 418 else/insert env;
#X msg 447 385 sin;
#X obj 505 195 else/initmess 0 0.05 1 0.95 0;
#X msg 479 385 tri;
#X msg 514 385 hann;
#X text 426 57 By default \, the envelope is a sine shape \, like the default in the [envelope~] object. You can set other envelope function types \, namely 'tri' \, 'hann' and 'gauss' (also like in the [envelope~] object). The gaussian envelope takes a float argument that sets the width., f 48;
#X text 426 128 You can also give it a list of values in the same syntax as taken by [function~] (which is used internally). This syntax is also given by the [function] GUI object., f 48;
#X text 437 237 [function];
#X msg 551 385 gauss 0.3;
#X obj 505 450 s \$0-set-env;
#N canvas 755 179 389 390 tuning 0;
#X obj 64 339 outlet;
#X msg 63 80 autotune \$1;
#X obj 63 54 tgl 15 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X obj 94 264 else/insert scale;
#X text 170 66 The autotune message retunes the transposition values \, see [else/autotune2] for reference., f 28;
#X obj 94 240 else/eqdiv;
#X text 174 160 You can try other arbitrary scales in the same format, f 18;
#X text 154 141 <= some equal divisions;
#X msg 94 116 13 3;
#X msg 103 136 13 2;
#X msg 112 157 12 2;
#X msg 120 178 24 2;
#X msg 126 199 7 2;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 5 0 3 0;
#X connect 8 0 5 0;
#X connect 9 0 5 0;
#X connect 10 0 5 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X restore 224 302 pd tuning;
#X text 288 301 <= about tuning;
#X msg 213 278 sync \$1;
#X obj 213 251 tgl 18 0 empty empty empty 17 7 0 10 #dcdcdc #000000 #000000 0 1;
#X text 237 251 synchronous mode;
#X text 181 197 <--;
#X obj 97 402 else/grain.live~ -n 256 -sync, f 16;
#X obj 97 162 play.file~ violin.flac 1 1;
#X connect 0 0 2 0;
#X connect 1 0 31 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 5 0 7 0;
#X connect 5 0 31 0;
#X connect 7 0 3 0;
#X connect 10 0 31 1;
#X connect 12 0 31 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 24 0;
#X connect 16 0 15 0;
#X connect 17 0 13 0;
#X connect 18 0 15 0;
#X connect 19 0 15 0;
#X connect 23 0 15 0;
#X connect 25 0 31 0;
#X connect 27 0 31 0;
#X connect 28 0 27 0;
#X connect 31 0 6 0;
#X connect 31 1 6 1;
#X connect 32 0 31 0;
#X restore 464 249 pd example;
#X obj 3 3 cnv 15 301 42 empty empty grain.live~ 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 3 graph;
#X text 79 87 [grain.live~] is a live input granulator that generates clouds of grains.;
#X obj 22 218 else/grain.sampler~;
#X obj 22 241 else/grain.synth~;
#X text 23 197 see also:;
#X obj 199 187 else/grain.live~ -n 32 -length 1000;
#X obj 4 599 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 6 278 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 6 497 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 79 504 cnv 17 3 17 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 80 286 cnv 17 3 180 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 6 547 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X obj 79 525 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 93 451 scale <list> - scale to autotune to in cents (default equal temperament), f 74;
#X text 93 437 autotune <f> - non-zero autotunes to a given scale (default 0), f 74;
#X text 175 505 signal - left channel output;
#X text 175 525 signal - right channel output;
#X obj 80 473 cnv 17 3 17 empty empty 1 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 129 283 signal - signal input to be granulated, f 68;
#X text 87 353 transp <f \, f> - sets min/max transpositin in cents (default -1200 to 1200), f 75;
#X text 99 339 size <f \, f> - sets min/max grain sizes in ms (default 50 to 450), f 73;
#X text 105 395 amp <f \, f> - sets min/max amplitude values (default 0.1 to 1), f 72;
#X text 105 367 pan <f \, f> - sets left/right pan boundaries (default -1 to 1), f 72;
#X text 105 381 pos <f \, f> - sets min/max position in delay line (default 0 to 1), f 72;
#X text 141 297 bang - plays an event of cloud grains, f 66;
#X text 123 311 dur <f> - sets cloud event duration in ms (default 500), f 69;
#X text 117 325 sync <f> - non zero sets to synchronous mode (default 0), f 70;
#X text 99 409 rev <float> - sets probability in % of grain being reversed (default 0), f 73;
#X text 111 423 env <any> - envelope type (sin \, hann \, tri \, gauss) or function list, f 71;
#X text 135 473 float - number of grains in the event (default 16 min 1 \, max 256), f 67;
#X text 68 553 -n <float> (number of grains) | -dur <f> | -size <f \, f> | -picth <f \, f> | -autotune <f> | -pan <f \, f> | -amps <f \, f> | -scale <list> | -base <f> | -rev <float> | -env <any> | -length <f>: delay length in ms (default 5000) | -sync, f 78;
#X text 456 160 number of grains, f 9;
#X obj 199 130 play.file~ bubul.mp3 1 1, f 14;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 22 0;
#X connect 14 0 22 1;
#X connect 22 0 3 0;
#X connect 22 1 3 1;
#X connect 49 0 22 0;
