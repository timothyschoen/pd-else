#N canvas 531 45 563 696 10;
#X obj 23 39 cnv 4 4 4 empty empty GUI\ popup\ menu 0 28 2 18 #e0e0e0 #000000 0;
#X obj 305 5 cnv 15 250 40 empty empty empty 12 13 0 18 #7c7c7c #e0e4dc 0;
#N canvas 382 141 749 319 (subpatch) 0;
#X coords 0 -1 1 1 252 42 2 100 100;
#X restore 304 4 pd;
#X obj 344 12 cnv 10 10 10 empty empty ELSE 0 15 2 30 #7c7c7c #e0e4dc 0;
#X obj 457 12 cnv 10 10 10 empty empty EL 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 477 12 cnv 10 10 10 empty empty Locus 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 514 12 cnv 10 10 10 empty empty Solus' 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 463 27 cnv 10 10 10 empty empty ELSE 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 501 27 cnv 10 10 10 empty empty library 0 6 2 13 #7c7c7c #e0e4dc 0;
#X obj 6 238 cnv 3 550 3 empty empty inlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 6 573 cnv 3 550 3 empty empty outlets 8 12 0 13 #dcdcdc #000000 0;
#X obj 6 669 cnv 15 552 21 empty empty empty 20 12 0 14 #e0e0e0 #202020 0;
#X obj 75 245 cnv 17 3 320 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X obj 77 584 cnv 17 3 29 empty empty 0 5 9 0 16 #dcdcdc #9c9c9c 0;
#X text 154 244 float;
#X obj 6 619 cnv 3 550 3 empty empty flags 8 12 0 13 #dcdcdc #000000 0;
#X text 118 259 set <float>;
#X text 195 373 -;
#X text 160 274 bang;
#X text 106 537 send <symbol>;
#X text 88 522 receive <symbol>;
#X text 195 416 - sets size in pixels (default: 50), f 58;
#X text 195 475 -;
#X text 195 497 -;
#X text 195 431 - non zero sets to arc drawing mode (default: 1), f 58;
#X text 195 537 - sets send symbol (default: empty), f 58;
#X text 195 522 - sets receive symbol (default: empty), f 58;
#X text 207 473 sets background color in hexadecimal or RGB list (default: #dfdfdf), f 56;
#X text 207 497 sets foreground color in hexadecimal or RGB list (default: #000000), f 56;
#X text 112 373 load <float>;
#X text 195 446 -;
#X text 207 446 sets arc start value \, no float sets current (default: 0);
#X text 82 388 savestate <float>;
#X text 195 387 - non zero sets to state saving mode, f 58;
#X text 195 401 - non zero sets to loadbang mode, f 58;
#X text 124 402 lb <float>;
#X text 195 461 - non zero sets to square drawing mode (default: 1), f 58;
#X obj 2 5 cnv 15 301 42 empty empty popmenu 20 20 2 37 #e0e0e0 #000000 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 302 42 1;
#X restore 2 4 graph;
#X text 309 169 <-- click and choose, f 10;
#X text 195 243 - sets index and outputs, f 58;
#X text 195 258 - sets index (no output), f 58;
#X text 195 274 - outputs selection, f 58;
#X text 207 373 sets load value \, no float sets current (default: -1), f 56;
#X text 88 416 fontsize <float>;
#X text 106 431 width <float>;
#X text 100 446 heigth <float>;
#X text 94 461 outline <float>;
#X text 130 475 bg <list>;
#X text 130 497 fg <list>;
#X text 124 289 add <list>;
#X text 195 289 - add elements to the popup menu, f 58;
#X text 154 304 clear;
#X text 195 304 - clear elements of the popup menu, f 58;
#X text 100 552 label <symbol>;
#X obj 259 201 else/display 4;
#X obj 259 64 bng 18 250 50 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000;
#X msg 289 64 clear \, add a b c d e;
#X obj 300 91 hradio 16 1 0 6 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X obj 300 112 - 1;
#X floatatom 300 133 3 0 0 0 - - - 0;
#X msg 211 64 set 1;
#X text 329 129 '-1' is no selection, f 10;
#X text 195 552 - sets label for no selection (default: ' '), f 58;
#X text 112 319 mode <float>;
#X text 112 334 keep <float>;
#X text 195 333 - non zero keeps items when saving patch (default: 1), f 58;
#X text 118 348 pos <float>;
#X text 195 348 -;
#X text 195 318 - set oputput mode: 0-both (default) \, 1-index and 2-item, f 58;
#X text 107 626 -size <float> | -range <float \, float> | -bg <list> | -fg <list> | -nooutline | -receive <symbol> | -send <symbol> | -load <float> | -pos <float> | -mode <float> | -savestate | -noloadbang | -nokeep, f 65;
#X obj 259 162 else/popmenu 45 26 12 #dfdfdf black \  empty empty empty empty 1 0 -1 0 0 1 0 0 0 0 0 a b c d e;
#N canvas 553 152 766 537 basic 0;
#X obj 76 248 tgl 19 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0 1;
#X floatatom 163 212 5 0 127 0 - - - 12;
#X obj 76 222 loadbang;
#X msg 248 214 load 5;
#X msg 257 236 load 0;
#X msg 265 260 load;
#X msg 76 283 outline \$1;
#X obj 140 183 bng 16 250 50 0 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000;
#X floatatom 445 126 5 8 16 0 - - - 12;
#X obj 623 167 else/colors;
#X obj 636 215 else/colors;
#X msg 623 188 bg \$1;
#X msg 445 154 fontsize \$1;
#X floatatom 533 104 5 50 100 0 - - - 12;
#X msg 533 132 width \$1;
#X floatatom 548 156 5 25 100 0 - - - 12;
#X msg 548 184 height \$1;
#X msg 636 236 fg \$1;
#X msg 176 242 set 4;
#X text 433 436 For proper displacement \, you need to click outside the menubutton area \, near the outline. Another strategy is to select the object and use arrow keys or select a group of objects that contains the [popmenu] and click on another object to move the group around., f 50;
#X obj 163 347 else/popmenu 128 26 12 #dfdfdf black \  empty empty empty empty 1 0 5 1 0 1 0 0 0 0 0 1 2 3 4 5 6;
#X listbox 163 387 8 0 0 0 - - - 12;
#X msg 268 284 savestate 1;
#X obj 535 270 else/popmenu 76 34 16 #ff0027 black \  empty empty empty empty 1 0 5 1 0 1 0 0 0 0 0 1 2 3 4 5 6;
#X text 15 16 By default \, the loaded elements are saved with the patch. A float sets and outputs values \, which get clipped to the index range. A "-1" index means no selection and loads a label that you can set (default " "). A 'set' message only sets the value (no output)., f 60;
#X msg 268 307 lb 0;
#X text 304 307 no loadbang;
#X text 15 77 A 'load' message sets the initial index value (default -1). A load message without a float saves the current index as the load value. In 'savestate' mode \, when you save the patch \, the current index value becomes the 'load' value. Note that the [savestate] object is needed if you're using [popmenu] in an abstraction for proper state saving in multiple intances. In 'loadbang' mode (default) \, the "load value" is output at load time.;
#X text 23 422 by default \, [popmenu] has an outline with the same background color. Use "outline 0" message or the '-nooutline' flag to change the display mode. Note that when you are in edit mode the [popmenu] always shows the outline. Inlets and outlets are hidden in run mode but also appear in edit mode. In edit mode the [popmenu] is disabled. It is also disabled if the patch window is out of focus by the way (this is a tcl/tk thing I can't seem to control)., f 62;
#X text 430 19 The 'fontsize' message sets the font size of the item. The 'bg' and 'fg' parameters set background and foreground color with a hex symbol or a list of RGB values (3 values from 0 to 255). Symbols like "green" \, "white" and "gray70" is also accepted., f 49;
#X text 433 330 Note the clicking on the object and dragging can be problematic. I may change this object just so it uses a different strategy. Now it relies on this canvas for the menubutton which is always up front and \, if you click on it in edit mode \, you can't move like you regularly can while the mouse is held down. Instead it follows the mouse cursor after you release the button and you need to use 'esc' key to get rid of it., f 50;
#X connect 0 0 6 0;
#X connect 1 0 20 0;
#X connect 2 0 0 0;
#X connect 3 0 20 0;
#X connect 4 0 20 0;
#X connect 5 0 20 0;
#X connect 6 0 20 0;
#X connect 7 0 20 0;
#X connect 8 0 12 0;
#X connect 9 0 11 0;
#X connect 10 0 17 0;
#X connect 11 0 23 0;
#X connect 12 0 23 0;
#X connect 13 0 14 0;
#X connect 14 0 23 0;
#X connect 15 0 16 0;
#X connect 16 0 23 0;
#X connect 17 0 23 0;
#X connect 18 0 20 0;
#X connect 20 0 21 0;
#X connect 22 0 20 0;
#X connect 25 0 20 0;
#X restore 491 153 pd basic;
#N canvas 746 250 459 436 receive/send 0;
#X msg 123 215 send empty;
#X msg 154 271 receive empty;
#X text 193 216 or just "send";
#X text 245 271 or just "receive";
#X obj 123 328 else/popmenu 128 26 12 #dfdfdf black \  \$0-popmenu-set \$0-popmenu empty empty 1 0 -1 0 0 1 1 0 0 0 0 one 2 three 4 five 6;
#X msg 102 195 send \\\$0-popmenu;
#X msg 143 248 receive \\\$0-popmenu-set;
#X obj 302 328 r \$0-popmenu;
#X text 37 20 When in edit mode \, [popmenu] shows its inlet/outlet. The inlet will always be hidden if you have a receive symbol \, same with the outlet if you have a send symbol. You can set a send symbol to send messages to a matching [receive] object. A receive symbol makes [send] objects communicate to it., f 58;
#X obj 302 359 display;
#X obj 40 381 s \$0-popmenu-set;
#X obj 40 269 vradio 16 1 0 6 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X text 37 94 If you set send/receive names to "empty" then the symbols are cleared and inlet/outlet are shown again (same if you give an actual empty symbol). Note you need to escape dollar signs with backslashes to set send receive names via messages or flags., f 57;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X connect 7 0 9 0;
#X connect 11 0 10 0;
#X restore 450 174 pd receive/send;
#N canvas 729 252 476 337 +parameters 0;
#X text 39 27 The 'mode' message sets the output mode. By default (mode 0) \, we have a list with both the index and item. In mode 1 we have just the index and in mode 2 we just have the selected item (which can be a float or a symbol)., f 31;
#X text 39 121 By default [popmenu] keeps the selected item with the patch when it gets saved. A "keep 0" message or "-nokeep" flag prevents the object from saving the contents., f 31;
#X msg 249 125 pos \$1;
#X obj 249 40 vradio 16 1 0 5 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X text 271 41 below;
#X text 271 57 above;
#X text 271 72 left;
#X text 272 88 right;
#X text 272 102 over;
#X obj 248 261 display;
#X obj 341 64 vradio 16 1 0 3 empty empty empty 0 -8 0 10 #dfdfdf #000000 #000000 0;
#X msg 341 129 mode \$1;
#X text 363 65 index and item;
#X text 363 81 index;
#X text 363 96 item;
#X msg 352 167 keep 1;
#X obj 248 210 ./popmenu 75 26 12 #dfdfdf black / \$0-set-popmenu \$0-popmenu empty empty 1 0 5 1 1 1 0 0 0 0 0 one 2 three 4 five 6;
#X text 39 192 The 'pos' message sets the position of the popup menu. The default is 0 \, which is 'below \; and tries to pop the menu below the button. Mode 1 is 'above' \, 2 is 'left' \, 3 is 'right' and 4 pops the menu directly over the button. In the case of below or above \, the direction will be reversed if the menu would show offscreen., f 31;
#X connect 2 0 16 0;
#X connect 3 0 2 0;
#X connect 10 0 11 0;
#X connect 11 0 16 0;
#X connect 15 0 16 0;
#X connect 16 0 9 0;
#X restore 456 196 pd +parameters;
#X text 103 585 list/float/symbol -;
#X text 301 205 <-- index and element;
#X text 229 583 depends on output mode: 0 (default) - list of index and item \, 1 - index and 2 - item, f 45;
#X text 29 96 [popup] is a popup menu GUI. When you click on it \, you get a popup menu to choose elements from (symbols or floats). You can choose by clicking on the selected item or via up/down arrow keys and hitting 'enter'. By default \, the output is the element index and element., f 28;
#X text 207 348 set popup position: 0-below (default) \, 1-above \, 2-left \, 3-right and 4-over), f 56;
#X connect 56 0 71 0;
#X connect 57 0 71 0;
#X connect 58 0 59 0;
#X connect 59 0 60 0;
#X connect 60 0 71 0;
#X connect 61 0 71 0;
#X connect 71 0 55 0;
